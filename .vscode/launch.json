{
    "version": "0.2.0",
    "configurations": [
        {
            "type": "dezog",
            "request": "launch",
            "name": "Internal Simulator",
            "remoteType": "zsim",
            "zsim": {
                "visualMemory": true,
                "memoryModel": "CUSTOM",
                "customMemory": [
                    // 0-3FFF: 8kB ROM mirrored two times
                    // 4000-6000: RAM: smaller slot of 8192
                    // 6000-8000: None
                    // 8000-FFFF: paged, 16 banks of 32K
                    { "range": [0, "1FFFh"], "rom": "${workspaceFolder}/reng/PLU10.HEX", "romOffset": "2000h", "name": "ROM" },
                    { "range": ["2000h", "3FFFh"], "rom": "${workspaceFolder}/reng/PLU10.HEX", "romOffset": "2000h", "name": "ROM mirror" },
                    { "range": ["4000h", "5FFFh"], "name": "Common" },
                    { "range": ["8000h", "FFFFh"], "banked": {
                        "count": 16,
                        "ioMmu": {
                            "port": { "mask": "FFh", "match": "80h" },
                            "bitMap": [0, 1, 2, 3]
                        }
                    } }
                ]
            },
            "history": {
                "reverseDebugInstructionCount": 1000000,
                "spotCount": 10,
                "codeCoverageEnabled": true
            },
            // "z88dk": [
            //     {
            //         "path": "${workspaceFolder}/main.lis",
            //         "mainFile": "${workspaceFolder}/main.asm",
            //         "mapFile": "${workspaceFolder}/main.map",
            //         "srcDirs": [
            //             ""
            //         ]
            //     }
            // ],
            "startAutomatically": false,
            "commandsAfterLaunch": [
                "-logpoint enable",
                "-assertion enable",
                "-wpmem enable"
            ],
            "disassemblerArgs": {
                "esxdosRst": true
            },
            "rootFolder": "${workspaceFolder}",
            "smallValuesMaximum": 513,
            "tmpDir": ".tmp"
        },

        {
            "type": "dezog",
            "request": "launch",
            "name": "Unit Tests - Simulator",
            "unitTests": true,
            "presentation": {
                "hidden": true
            },
            "remoteType": "zsim",
            "zsim": {
                "Z80N": true,
                "visualMemory": true,
                "memoryModel": "RAM"
            },
            "sjasmplus": [
                {
                    "path": "z80-sample-program.sld"
                }
            ],
            "commandsAfterLaunch": [
                "-logpoint enable",
                "-assertion enable",
                "-wpmem enable"
            ],
            "startAutomatically": true,
            "rootFolder": "${workspaceFolder}",
            "load": "z80-sample-program.nex"
        }
    ]
}